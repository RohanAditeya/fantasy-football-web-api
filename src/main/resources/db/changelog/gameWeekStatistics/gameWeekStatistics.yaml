databaseChangeLog:
  - changeSet:
      id:  game-week-statistics-table
      author:  rohan-aditeya
      created: 06/2024
      comment: Creates the base structure of the Game Week Tables.
      changes:
        - createTable:
            ifNotExits: true
            remarks: The player game week break up table
            tableName: PLYR_GAME_WK_BK
            columns:
              - column:
                  name: RECORD_ID
                  type: UUID
                  remarks: Unique record ID generated by application
                  constraints:
                    nullable: false
                    unique: true
              - column:
                  name: GAME_WK_PK
                  type: UUID
                  remarks: Reference to the game week record in the PLYR_GAME_WK_STCS table
                  constraints:
                    nullable: false
              - column:
                  name: IDENTIFIER
                  type: VARCHAR(15)
                  remarks: The attribute that the points are provided for
                  constraints:
                    nullable: false
              - column:
                  name: POINTS
                  type: INT
                  remarks: The points for the gameweek
                  constraints:
                    nullable: false
              - column:
                  name: ID_VALUE
                  type: INT
                  remarks: The value for the identifier
                  constraints:
                    nullable: false
              - column:
                  name: VERSION_NUMBER
                  type: BIGINT
                  remarks: Version number for audit purpose
                  constraints:
                    nullable: false
        - addPrimaryKey:
            tableName: PLYR_GAME_WK_BK
            columnNames: RECORD_ID
        - createTable:
            ifNotExits: true
            remarks: The player game week table
            tableName: PLYR_GAME_WK_STCS
            columns:
              - column:
                  name: RECORD_ID
                  type: UUID
                  remarks: Unique record ID generated by application
                  constraints:
                    nullable: false
                    unique: true
              - column:
                  name: PLYR_ID
                  type: UUID
                  remarks: Reference to the player basic information record
                  constraints:
                    nullable: false
              - column:
                  name: GAME_WK
                  type: INT
                  remarks: The game week
              - column:
                  name: MINS
                  type: INT
                  remarks: The minutes played in the current game week
              - column:
                  name: GOALS_SCRD
                  type: INT
                  remarks: The goals scored in the current game week
              - column:
                  name: ASSTS
                  type: INT
                  remarks: The assists in the current game week
              - column:
                  name: CLEAN_SHTS
                  type: INT
                  remarks: The clean sheets in the current game week
              - column:
                  name: GOALS_CNCDED
                  type: INT
                  remarks: The goals conceded in the current game week
              - column:
                  name: OWN_GOALS
                  type: INT
                  remarks: The own goals conceded in the current game week
              - column:
                  name: PEN_SAVED
                  type: INT
                  remarks: The penalties saved in the current game week
              - column:
                  name: PEN_MISSED
                  type: INT
                  remarks: The penalties missed in the current game week
              - column:
                  name: YELL_CARDS
                  type: INT
                  remarks: The yellow cards in the current game week
              - column:
                  name: RED_CARDS
                  type: INT
                  remarks: The red cards in the current game week
              - column:
                  name: SAVES
                  type: INT
                  remarks: The saves in the current game week
              - column:
                  name: BONUS
                  type: INT
                  remarks: The bonus points in the current game week
              - column:
                  name: BPS
                  type: INT
                  remarks: Need to find out more about this column
              - column:
                  name: INFLUENCE
                  type: INT
                  remarks: Need to find out more about this column
              - column:
                  name: CREATIVITY
                  type: INT
                  remarks: Need to find out more about this column
              - column:
                  name: THREAT
                  type: INT
                  remarks: Need to find out more about this column
              - column:
                  name: ICT_INDX
                  type: FLOAT(24)
                  remarks: Need to find out more about this column
              - column:
                  name: STARTS
                  type: FLOAT(24)
                  remarks: Need to find out more about this column
              - column:
                  name: EXP_GOALS
                  type: FLOAT(24)
                  remarks: Need to find out more about this column
              - column:
                  name: EXP_ASSTS
                  type: FLOAT(24)
                  remarks: Need to find out more about this column
              - column:
                  name: EXP_GOAL_INVLMTS
                  type: FLOAT(24)
                  remarks: Need to find out more about this column
              - column:
                  name: EXP_GOALS_CNCDED
                  type: FLOAT(24)
                  remarks: Need to find out more about this column
              - column:
                  name: TOTAL_POINTS
                  type: FLOAT(24)
                  remarks: Need to find out more about this column
              - column:
                  name: IN_DREAM_TM
                  type: BOOLEAN
                  remarks: In dream team in the current game week
              - column:
                  name: VERSION_NUMBER
                  type: BIGINT
                  remarks: Version number for auditing purpose
                  constraints:
                    nullable: false
        - addPrimaryKey:
            tableName: PLYR_GAME_WK_STCS
            columnNames: RECORD_ID
        - addForeignKeyConstraint:
            constraintName: PLYR_GAME_WK_STCS_FK
            baseTableName: PLYR_GAME_WK_BK
            baseColumnNames: GAME_WK_PK
            onDelete: RESTRICT
            onUpdate: RESTRICT
            referencedTableName: PLYR_GAME_WK_STCS
            referencedColumnNames: RECORD_ID
        - addForeignKeyConstraint:
            constraintName: PLYR_BSC_INFO_FK
            baseTableName: PLYR_GAME_WK_STCS
            baseColumnNames: PLYR_ID
            onDelete: RESTRICT
            onUpdate: RESTRICT
            referencedTableName: PLYR_BSC_INFO
            referencedColumnNames: RECORD_ID